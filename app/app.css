@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* =============================================================================
   FlowFork Design System
   Culinary clarity through considered minimalism
   ============================================================================= */

@theme {
  /* Typography - Inter as primary (Agrandir fallback) */
  --font-sans:
    "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  /* 8px Base Spacing Scale - using 'space' prefix to avoid Tailwind conflicts */
  --space-xxs: 0.25rem;  /* 4px - tight inline elements */
  --space-xs: 0.5rem;    /* 8px - list item padding */
  --space-sm: 1rem;      /* 16px - default gap */
  --space-md: 1.5rem;    /* 24px - section internal */
  --space-lg: 2rem;      /* 32px - major sections */
  --space-xl: 3rem;      /* 48px - screen padding */
  --space-xxl: 4rem;     /* 64px - hero isolation */

  /* Header height for sticky header spacing */
  --header-height: 4.5rem;  /* 72px - accounts for nav padding and content */
}

@theme inline {
  /* Border Radius */
  --radius-sm: 0.375rem;   /* 6px - checkboxes */
  --radius-md: 1rem;       /* 16px - cards */
  --radius-lg: 1.5rem;     /* 24px - larger cards */
  --radius-full: 6.25rem;  /* 100px - pill buttons */

  /* ==========================================================================
     Achromatic Foundation (Light Mode)
     Color appears ONLY in ingredient pictograms. Interface stays monochrome.
     ========================================================================== */

  /* Core Colors */
  --color-black: #0A0A0A;           /* Primary black - warm, never pure #000 */
  --color-white: #FFFFFF;           /* Background white */
  --color-divider: #F5F5F5;         /* Almost invisible borders */
  --color-inactive: #BDBDBD;        /* Disabled states, metadata */
  --color-border-light: #F0F0F0;    /* Card borders */
  --color-border: #E0E0E0;          /* Secondary borders */
  --color-surface: #FAFAFA;         /* Selected state fill */

  /* Semantic Color Mappings */
  --color-background: var(--color-white);
  --color-foreground: var(--color-black);
  --color-text-primary: var(--color-black);
  --color-text-secondary: var(--color-inactive);
  --color-text-muted: #757575;

  /* Interactive States */
  --color-hover-bg: var(--color-divider);
  --color-active-bg: var(--color-surface);
  --color-focus-ring: var(--color-black);

  /* Error State - only red in the interface */
  --color-error: #DC2626;
  --color-error-bg: #FEF2F2;

  /* Success State */
  --color-success: #16A34A;
  --color-success-bg: #F0FDF4;

  /* ==========================================================================
     Ingredient Color System (for pictograms only)
     Each ingredient gets ONE signature color - flat, friendly, 60% saturation
     ========================================================================== */
  --color-ingredient-vegetable: #4CAF50;  /* Green - broccoli, lettuce */
  --color-ingredient-allium: #9C27B0;     /* Purple - onion, garlic */
  --color-ingredient-protein: #FF6B6B;    /* Coral - meat, fish */
  --color-ingredient-dairy: #F5DEB3;      /* Wheat beige */
  --color-ingredient-grain: #D4A574;      /* Warm tan - rice, pasta */
  --color-ingredient-citrus: #FFA726;     /* Bright orange */
  --color-ingredient-berry: #E91E63;      /* Pink-red */

  /* ==========================================================================
     Component Tokens
     ========================================================================== */

  /* Buttons */
  --color-btn-primary-bg: var(--color-black);
  --color-btn-primary-text: var(--color-white);
  --color-btn-primary-hover: #1A1A1A;
  --color-btn-disabled-bg: var(--color-divider);
  --color-btn-disabled-text: var(--color-inactive);
  --color-btn-secondary-border: var(--color-border);
  --color-btn-secondary-text: var(--color-black);

  /* Cards */
  --color-card-bg: var(--color-white);
  --color-card-border: var(--color-border-light);
  --color-card-border-hover: var(--color-border);

  /* Selection States */
  --color-selection-border: var(--color-black);
  --color-selection-bg: var(--color-surface);
  --color-unselected-border: var(--color-border);

  /* Progress */
  --color-progress-track: var(--color-divider);
  --color-progress-fill: var(--color-black);

  /* Legacy compatibility (can remove later) */
  --color-primary-background: var(--color-background);
  --color-primary-foreground: var(--color-foreground);
  --color-primary-solid: var(--color-black);
  --color-muted: var(--color-divider);
  --color-muted-foreground: var(--color-text-muted);
  --color-border: var(--color-border);
  --color-input: var(--color-white);
  --color-ring: var(--color-black);
  --color-destructive: var(--color-error);
}

/* Dark mode - inverted monochrome */
.dark {
  --color-background: #0A0A0A;
  --color-foreground: #FAFAFA;
  --color-text-primary: #FAFAFA;
  --color-text-secondary: #A3A3A3;
  --color-text-muted: #737373;
  --color-divider: #1A1A1A;
  --color-border-light: #262626;
  --color-border: #404040;
  --color-surface: #171717;
  --color-hover-bg: #262626;
  --color-active-bg: #1A1A1A;
  --color-focus-ring: #FAFAFA;

  /* Buttons in dark mode */
  --color-btn-primary-bg: #FAFAFA;
  --color-btn-primary-text: #0A0A0A;
  --color-btn-primary-hover: #E5E5E5;
  --color-btn-disabled-bg: #262626;
  --color-btn-disabled-text: #525252;
  --color-btn-secondary-border: #404040;
  --color-btn-secondary-text: #FAFAFA;

  /* Cards in dark mode */
  --color-card-bg: #171717;
  --color-card-border: #262626;
  --color-card-border-hover: #404040;

  /* Selection in dark mode */
  --color-selection-border: #FAFAFA;
  --color-selection-bg: #1A1A1A;
  --color-unselected-border: #404040;

  /* Progress in dark mode */
  --color-progress-track: #262626;
  --color-progress-fill: #FAFAFA;

  /* Legacy compatibility */
  --color-primary-background: var(--color-background);
  --color-primary-foreground: var(--color-foreground);
  --color-primary-solid: var(--color-foreground);
}

/* =============================================================================
   Base Styles
   ============================================================================= */

@layer base {
  * {
    @apply border-[var(--color-border)] outline-[var(--color-focus-ring)];
  }

  html {
    scroll-behavior: smooth;
    /* Typography: minimum 16px body, legible at a glance */
    font-size: 16px;
    /* Account for fixed header when scrolling to anchors */
    scroll-padding-top: var(--header-height);
  }

  body {
    @apply bg-[var(--color-background)] text-[var(--color-text-primary)];
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Line height: 1.6 for paragraphs */
    line-height: 1.6;
  }

  /* Typography hierarchy - size and spacing, never bold */
  h1, h2, h3, h4, h5, h6 {
    /* Line height: 1.2 for headings */
    line-height: 1.2;
    /* Letter spacing: -0.5% for large headings */
    letter-spacing: -0.005em;
    font-weight: 400;
  }

  /* Body text - no letter spacing adjustment */
  p, li, td, th {
    letter-spacing: 0;
  }
}

/* =============================================================================
   Utility Classes
   ============================================================================= */

/* Container - max-width 640px for readability */
.container-readable {
  max-width: 40rem; /* 640px */
  margin-left: auto;
  margin-right: auto;
  padding-left: 1.5rem;  /* 24px mobile */
  padding-right: 1.5rem;
}

@media (min-width: 768px) {
  .container-readable {
    padding-left: 2rem;  /* 32px tablet+ */
    padding-right: 2rem;
  }
}

/* Animation: calm efficiency, never showboat */
.transition-calm {
  transition-property: all;
  transition-timing-function: ease;
  transition-duration: 200ms;
}

.transition-button {
  transition-property: all;
  transition-timing-function: ease;
  transition-duration: 150ms;
}

.transition-page {
  transition-property: all;
  transition-timing-function: ease-in-out;
  transition-duration: 400ms;
}
